{% extends 'base.html.twig' %}

{% block title %}Historique des locations pour mes propriétés
{% endblock %}

{% block body %}
	<div class="site-mobile-menu site-navbar-target">
		<div class="site-mobile-menu-header">
			<div class="site-mobile-menu-close">
				<span class="icofont-close js-menu-toggle"></span>
			</div>
		</div>
		<div class="site-mobile-menu-body"></div>
	</div>

	<div class="hero hero-inner">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-6 mx-auto text-center">
					<div class="intro-wrap">
						<h2 class="mb-0" style="color: white;">Historique des locations pour mes propriétés</h2>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="untree_co-section">
		<div class="container">
			<div class="row d-flex justify-content-center">
				<div class="container">
					<div class="row">
						<div class="col-md-8">
							<div class="card">
								<div class="card-body">
									<div class="row">
										<div class="col-md-8">
											<table class="table">
												<thead>
													<tr>
														<th>Numéro réservation</th>
														<th>Logement</th>
														<th>Montant payé</th>
														<th>id_Locataire</th>
														<th>Locataire</th>
													</tr>
												</thead>
												<tbody>
													{% for rent in rents %}
														<tr>
															<td>{{ rent.id }}</td>
															<td>{{ rent.house.title }}</td>
															<td>{{ rent.totalPrice }}
																€</td>
															{% if rent.user %}
																<td>{{ rent.user.id }}</td>
																<td>{{ rent.user.username }}</td>
															{% else %}
																<td colspan="2">Information sur l'utilisateur non disponible</td>
															{% endif %}
														</tr>
													{% else %}
														<tr>
															<td colspan="5">Aucune location payée trouvée.</td>
														</tr>
													{% endfor %}
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>
							<br>
							<div class="form-floating">
								<form action="{{ path('app_proprio_index') }}">
									<button type="submit" class="btn btn-primary">Retourner à la liste</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
