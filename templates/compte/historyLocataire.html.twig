{% extends 'base.html.twig' %}

{% block title %}Historique de mes locations
{% endblock %}

{% block body %}
	<div class="site-mobile-menu site-navbar-target">
		<div class="site-mobile-menu-header">
			<div class="site-mobile-menu-close">
				<span class="icofont-close js-menu-toggle"></span>
			</div>
		</div>
		<div class="site-mobile-menu-body"></div>
	</div>

	<div class="hero hero-inner">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-6 mx-auto text-center">
					<div class="intro-wrap">
						<h1 class="mb-0">Historique de mes locations</h1>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="untree_co-section">
		<div class="container">
			<div class="row d-flex justify-content-center">
				<div class="container">
					<div class="row">
						<div class="col-md-8">
							<div class="card">
								<div class="card-body">
									<div class="row">
										<div class="col-md-8">
											<table class="table">
												<thead>
													<tr>
														<th>Numéro réservation</th>
														<th>Logement</th>
														<th>Date de début</th>
														<th>Date de fin</th>														
														<th>Montant payé</th>
														<th>Propriétaire</th>																												
													</tr>
												</thead>
												<tbody>
													{% for rent in rents %}
														<tr>
															<td>{{ rent.id }}</td>
															{% if rent.house %}
																<td>{{ rent.house.title }}</td>
															{% else %}
																<td>Information sur le logement non disponible</td>
															{% endif %}
															<td>{{ rent.startDate|date('d/m/Y') }}</td>
															<td>{{ rent.endDate|date('d/m/Y') }}</td>
															<td>{{ rent.totalPrice }}€</td>
															{% if rent.proprietaire %}
																<td>{{ rent.proprietaire.username }}</td>
															{% else %}
																<td>Information sur le propriétaire non disponible</td>
															{% endif %}
														</tr>
													{% else %}
														<tr>
															<td colspan="6">Aucune location payée trouvée.</td>
														</tr>
													{% endfor %}
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


{% endblock %}
